<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Bork Translator</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f4f4f4;
      padding: 20px;
    }
    textarea {
      width: 100%;
      height: 100px;
      margin-bottom: 10px;
    }
    button {
      padding: 10px 15px;
      margin: 5px;
    }
  </style>
</head>
<body>
  <h1>Bork ↔ English Translator</h1>

  <textarea id="input" placeholder="Type Bork or English here..."></textarea><br>
  <button onclick="translateToEnglish()">Bork ➜ English</button>
  <button onclick="translateToBork()">English ➜ Bork</button>

  <h3>Output:</h3>
  <textarea id="output" readonly></textarea>

  <script>
    const borkToEnglish = {
      "fing": "yes", "fong": "no", "ging": "he", "gang": "she",
      "ork": "wanna", "bon": "meet", "fu": "in", "burt": "the",
      "cab": "bathroom", "ter": "what", "fi": "is", "chak": "yap",
      "sob": "about", "ti": "so", "pew": "annoying", "tas": "the",
      "min": "did", "jam": "have", "nay": "for", "niplip": "dinner",
      "nep": "but", "sol": "also", "met": "time", "ringga": "particular",
      "thic": "moment", "fo": "it", "wek": "knew", "chip": "lunch",
      "chop": "breakfast", "ur": "four", "ve": "five", "ix": "six",
      "en": "seven", "tet": "eight", "ine": "nine", "ban": "shut",
      "ru": "up", "ri": "down", "kro": "that", "rip": "can", "pir": "not",
      "glis": "will", "ting": "good", "tang": "bad", "pow": "how",
      "zcow": "are", "shako": "hello", "nic": "library", "hon": "hala",
      "bee": "base", "radas": "classroom", "dow": "woods", "ring": "field",
      "gam": "muga", "ram": "home", "hep": "shop", "carp": "foynes",
      "ig": "off", "ag": "of", "rob": "fat", "rab": "skinny", "ii": "a",
      "ro": "zero", "ne": "one", "wo": "two", "ree": "three",
    };

    // Build English to Bork
    const englishToBork = {};
    for (let key in borkToEnglish) {
      englishToBork[borkToEnglish[key]] = key;
    }

    // Support digit word mapping
    const digits = {
      "0": "ro", "1": "ne", "2": "wo", "3": "ree",
      "4": "ur", "5": "ve", "6": "ix", "7": "en",
      "8": "tet", "9": "ine"
    };
    const reverseDigits = Object.fromEntries(Object.entries(digits).map(([k, v]) => [v, k]));

    function translateToEnglish() {
      const input = document.getElementById("input").value.toLowerCase().trim();
      const words = input.split(/\s+/);
      let output = words.map(word => {
        // Handle numbers like 'wone' = 21
        if (/^([a-z]{2,3})+$/.test(word)) {
          let i = 0, result = "";
          while (i < word.length) {
            for (let len = 3; len >= 2; len--) {
              const part = word.substring(i, i + len);
              if (reverseDigits[part]) {
                result += reverseDigits[part];
                i += len;
                break;
              }
            }
            break; // Stop if no digit match
          }
          if (result.length > 0) return result;
        }
        return borkToEnglish[word] || word;
      }).join(" ");
      document.getElementById("output").value = output;
    }

    function translateToBork() {
      const input = document.getElementById("input").value.toLowerCase().trim();
      const words = input.replace(/’/g, "'").split(/\s+/).map(w => w.replace(/n't/g, ' not'));
      let output = words.map(word => {
        if (/^\d+$/.test(word)) {
          return [...word].map(d => digits[d] || d).join('');
        }
        return englishToBork[word] || word;
      }).join(" ");
      document.getElementById("output").value = output;
    }
  </script>
</body>
</html>
